<!DOCTYPE html>
<html>
<head>
    <title>Lưu giá trị 0/1</title>
</head>
<body>
    <h1>Giá trị hiện tại: <span id="value">0</span></h1>
    <button onclick="setValue(1)">Đặt thành 1</button>
    <button onclick="setValue(0)">Đặt thành 0</button>

    <script>
        // Lấy giá trị từ API
        async function getValue() {
            const response = await fetch('https://api.github.com/gists/YOUR_GIST_ID');
            const data = await response.json();
            const content = JSON.parse(data.files['value.json'].content);
            document.getElementById('value').textContent = content.value;
        }

        // Cập nhật giá trị
        async function setValue(newValue) {
            const token = 'YOUR_GITHUB_TOKEN'; // Tạo token từ GitHub Settings
            const gistId = 'YOUR_GIST_ID';
            
            const response = await fetch(`https://api.github.com/gists/${gistId}`, {
                method: 'PATCH',
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    files: {
                        'value.json': {
                            content: JSON.stringify({ value: newValue, updated: new Date().toISOString() })
                        }
                    }
                })
            });
            
            getValue(); // Cập nhật hiển thị
        }

        // Tải giá trị khi trang load
        getValue();
        setInterval(getValue, 5000); // Cập nhật mỗi 5 giây
    </script>
</body>
</html>
